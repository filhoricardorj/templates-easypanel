{
  "services": [
    {
      "type": "postgres",
      "env": ["POSTGRES_DB=n8n"],
      "data": {
        "projectName": "$(PROJECT_NAME)",
        "serviceName": "db",
        "image": "pgvector/pgvector:pg17-trixie",
        "password": "SENHA_AQUI"
      }
    },
    {
      "type": "redis",
      "data": {
        "projectName": "$(PROJECT_NAME)",
        "serviceName": "redis",
        "image": "redis:7",
        "password": "SENHA_AQUI"
      }
    },
    {
      "type": "app",
      "data": {
        "projectName": "$(PROJECT_NAME)",
        "serviceName": "editor",
        "source": {
          "type": "image",
          "image": "n8nio/n8n:stable"
        },
        "env": "N8N_PORT=5678",
        "deploy": {
          "replicas": 1,
          "command": null,
          "zeroDowntime": true
        },
        "domains": [
          {
            "host": "$(EASYPANEL_DOMAIN)",
            "https": true,
            "port": 5678,
            "path": "/",
            "middlewares": [],
            "certificateResolver": "",
            "wildcard": false,
            "internalProtocol": "http"
          }
        ],
        "mounts": [
          {
            "type": "volume",
            "name": "editor-data",
            "mountPath": "/home/node/.n8n"
          }
        ]
      }
    },
    {
      "type": "app",
      "data": {
        "projectName": "$(PROJECT_NAME)",
        "serviceName": "webhooks",
        "source": {
          "type": "image",
          "image": "n8nio/n8n:stable"
        },
        "env": "N8N_PORT=5677",
        "deploy": {
          "replicas": 1,
          "command": "n8n webhook",
          "zeroDowntime": true
        },
        "domains": [
          {
            "host": "$(EASYPANEL_DOMAIN)",
            "https": true,
            "port": 5677,
            "path": "/webhook/",
            "middlewares": [],
            "certificateResolver": "",
            "wildcard": false,
            "internalProtocol": "http"
          },
          {
            "host": "$(EASYPANEL_DOMAIN)",
            "https": true,
            "port": 5677,
            "path": "/webhook-waiting/",
            "middlewares": [],
            "certificateResolver": "",
            "wildcard": false,
            "internalProtocol": "http"
          }
        ],
        "mounts": [
          {
            "type": "volume",
            "name": "webhooks-data",
            "mountPath": "/home/node/.n8n"
          }
        ]
      }
    },
    {
      "type": "app",
      "data": {
        "projectName": "$(PROJECT_NAME)",
        "serviceName": "worker",
        "source": {
          "type": "image",
          "image": "n8nio/n8n:stable"
        },
        "deploy": {
          "replicas": 1,
          "command": "n8n worker",
          "zeroDowntime": true
        },
        "mounts": [
          {
            "type": "volume",
            "name": "worker-data",
            "mountPath": "/home/node/.n8n"
          }
        ]
      }
    }
  ]
}